(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08a6159a"],{1881:function(t,i,e){"use strict";e("493c")},"1c98":function(t,i,e){},"493c":function(t,i,e){},"642e":function(t,i,e){},"643d":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"classify"},[e("router-link",{staticClass:"search-btn",attrs:{to:"/search",tag:"div"}},[e("van-icon",{attrs:{name:"search"}}),e("span",{staticClass:"search-value"},[t._v("荔枝水果9.99")])],1),e("tab",{on:{classChanged:t.handleChange}}),t.show?e("div",{staticClass:"content"},[e("sideBar",{attrs:{menuList:t.sideList}}),t.listShow?e("List"):t._e()],1):e("van-loading",{staticClass:"center",attrs:{size:"1.3rem",color:"turquoise"}})],1)},n=[],a=e("5530"),c=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tab",on:{touchend:t.handleClick,touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0}}},t._l(t.menuList,(function(i,s){return e("div",{key:s,staticClass:"tab-item",attrs:{"data-i":s}},[e("div",{staticClass:"imgWrapper",class:{active:t.id==s}},[e("img",{attrs:{src:i.imgURL,alt:i.title}})]),e("div",{staticClass:"title",class:{active:t.id==s}},[t._v(t._s(i.title))])])})),0)},o=[],u={data:function(){return{menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}],id:0,move:!1}},methods:{handleClick:function(t){this.move||(this.$store.commit("resetGoodsList"),t.target.dataset.i?this.id=t.target.dataset.i:t.target.parentElement.dataset.i?this.id=t.target.parentElement.dataset.i:this.id=t.target.parentElement.parentElement.dataset.i,this.$emit("classChanged",this.menuList[this.id].title))}}},r=u,l=(e("dfce"),e("2877")),d=Object(l["a"])(r,c,o,!1,null,"d0d9fac2",null),g=d.exports,h=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"sideBar",on:{touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0}}},t._l(t.list,(function(i,s){return e("div",{key:i,staticClass:"item",class:{active:i===t.title},attrs:{"data-title":i},on:{touchend:function(e){return t.handleTouch(i)}}},[t._v(" "+t._s(0===s?"全部":i)+" ")])})),0)},m=[];function p(t){if(Array.isArray(t))return t}e("a4d3"),e("e01a"),e("d28b"),e("d3b7"),e("3ca3"),e("ddb0");function b(t,i){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],s=!0,n=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(s=(c=o.next()).done);s=!0)if(e.push(c.value),i&&e.length===i)break}catch(u){n=!0,a=u}finally{try{s||null==o["return"]||o["return"]()}finally{if(n)throw a}}return e}}var f=e("06c5");function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(t,i){return p(t)||b(t,i)||Object(f["a"])(t,i)||y()}var j=e("2f62"),v={data:function(){return{list:[],title:"",move:!1}},props:["menuList"],methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(j["c"])(["resetGoodsList"])),Object(j["b"])(["getGoodsList"])),{},{handleTouch:function(t){this.move||(this.title=t,this.resetGoodsList(),this.getGoodsList({type:t,page:1}))}}),created:function(){this.list=this.menuList;var t=L(this.menuList,1);this.title=t[0]},watch:{menuList:function(){this.list=this.menuList;var t=L(this.menuList,1);this.title=t[0]}}},w=v,k=(e("7b6f"),Object(l["a"])(w,h,m,!1,null,"ba923214",null)),C=k.exports,O=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"list"},[e("div",{staticClass:"header"},[e("div",{staticClass:"all",class:{active:"all"===t.type},on:{touchend:function(i){return t.changeType("all")}}},[t._v(" 综合 ")]),e("div",{staticClass:"sale",class:{active:"sale"===t.type},on:{touchend:function(i){return t.changeType("sale")}}},[t._v(" 销量 ")]),e("div",{staticClass:"price",class:{"price-up":"price-up"===t.type,"price-down":"price-down"===t.type},on:{touchend:function(i){return t.changeType("price")}}},[t._v(" 价格 ")])]),t.showLoading?t._e():e("div",{staticClass:"content"},[e("van-pull-refresh",{attrs:{"success-text":"刷新成功","head-height":"80"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"已经没有了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.goodsList,(function(i,s){return e("Card",{key:s,attrs:{id:i.id,title:i.title,desc:i.desc,priceOff:i.priceOff,price:i.price,thumb:i.images[0],num:t.counterMap[i.id],tags:i.tags,fly:!0,sellOut:i.sellOut},on:{changeHandler:t.addCounter}})})),1)],1)],1)])},R=[],U=(e("96cf"),e("1da1")),_=e("ff86"),T={data:function(){return{showLoading:!1,type:"all",isLoading:!1,loading:!1,finished:!1,nowPage:1}},components:{Card:_["a"]},computed:Object(a["a"])({},Object(j["d"])(["goodsList","goodsType","goodsTotal","counterMap"])),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(j["b"])(["getGoodsList"])),Object(j["c"])(["resetList","sortGoodsList","storageChange"])),{},{addCounter:function(t,i){this.storageChange({id:t,value:i})},onRefresh:function(){var t=this;this.nowPage=0,this.showLoading=!0,this.resetList(),setTimeout((function(){t.$Toast("刷新成功"),t.finished=!1,t.isLoading=!1,t.onLoad()}),1e3)},onLoad:function(){var t=this;this.finished||(this.nowPage+=1,this.getGoodsList({type:this.goodsType,page:this.nowPage}).then((function(){t.loading=!1,t.showLoading=!1,t.goodsList.length>=t.goodsTotal&&(t.finished=!0)})))},changeType:function(t){var i=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"price"===t?"price-up"===i.type?i.type="price-down":i.type="price-up":i.type=t,i.sortGoodsList(i.type),i.resetList(),i.showLoading=!0,i.nowPage=1,e.next=7,i.getGoodsList({type:i.goodsType,page:i.nowPage});case 7:i.finished=!1,i.isloading=!1,i.goodsList.sort(),i.showLoading=!1;case 11:case"end":return e.stop()}}),e)})))()}}),watch:{goodsType:function(){this.finished=!1,this.nowPage=1}}},x=T,G=(e("1881"),Object(l["a"])(x,O,R,!1,null,"78b14019",null)),S=G.exports,E={components:{tab:g,sideBar:C,List:S},data:function(){return{title:"时令水果",listShow:!1,show:!0}},computed:Object(a["a"])({},Object(j["d"])(["sideList"])),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(j["b"])(["getSideList"])),Object(j["c"])(["resetList"])),{},{handleChange:function(t){var i=this;this.show=!1,this.getSideList(t).then((function(){setTimeout((function(){i.show=!0}),1e3)}))}}),created:function(){var t=this;this.resetList(),this.getSideList(this.title).then((function(){t.listShow=!0}))}},P=E,$=(e("84a1"),Object(l["a"])(P,s,n,!1,null,"68758e12",null));i["default"]=$.exports},"7b6f":function(t,i,e){"use strict";e("1c98")},"84a1":function(t,i,e){"use strict";e("642e")},dfce:function(t,i,e){"use strict";e("e388")},e388:function(t,i,e){}}]);